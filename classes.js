class RouteHashCallback{constructor(){this._params={},this._set=[]}__hash=e=>{let t=e.split("/").filter(e=>e);return t[0]="#",t};get=()=>{this._params={};let e=this.__hash(location.hash||"#/"),t=this._set.find(t=>{if(-1!=t.all)return(location.hash||"#/").startsWith(t.hash.arrayString.slice(0,t.all).join("/"));if(t.hash.arrayObject.length==e.length){let s=e.every((e,s)=>t.hash.arrayObject[s].status?(this._params[t.hash.arrayObject[s].name]=e,!0):e===t.hash.arrayObject[s].name);return s}return!1});return t&&"function"==typeof t.callback?t.callback(this._params):null};set=e=>{this._set=e.map(e=>{let t=this.__hash(`#/${e.hash}`),s=-1;return{hash:{arrayObject:t.map((e,t)=>(-1==s&&"*"==e&&(s=t),{status:e.startsWith(":"),name:e.startsWith(":")?e.slice(1):e})),arrayString:t},callback:e.callback,all:s}})};params=(e=null)=>"string"==typeof e?this._params[e]:JSON.parse(JSON.stringify(this._params))}class IntersectionObserverImage{static intersectionObserver=null;static images=[];static{this.intersectionObserver=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){let s=e.target;t.unobserve(s),this.__load(s)}})},{root:null,rootMargin:"0px",threshold:0})}static __load=e=>{let t=0,s=(e,t,s)=>(e.addEventListener(t,s),()=>e.removeEventListener(t,s)),a=s(e,"error",()=>{if(++t>3)return a();e.setAttribute("src",e.getAttribute("data-src"))}),r=s(e,"load",()=>{r(),a(),e.style.opacity=1});e.setAttribute("src",e.getAttribute("data-src"))};static load=(e,t=!0)=>{if("IMG"==e.tagName){if(e.style.opacity=0,t)return this.images.push(e),this.intersectionObserver.observe(e),()=>this.intersectionObserver.unobserve(e);this.__load(e)}return null};static clear=()=>{this.images.forEach(e=>this.intersectionObserver.unobserve(e))}}class RenderObjectElement{constructor(e={}){this.savedElement=Object.keys(e).reduce((t,s)=>(t[s]={element:e[s],elementText:document.createTextNode(""),parent:e[s].parentElement,status:!0},t),{})}set(e){Object.keys(e).forEach(t=>{let s=this.savedElement[t];s&&(s.status=e[t],s.status?s.element.parentElement||s.elementText.replaceWith(s.element):s.element.parentElement&&s.element.replaceWith(s.elementText))})}}class Cookie{static set(e,t,s={}){let{lifetime:a=0,path:r="/",domain:i="",samesite:n="Lax"}=s,l="";if(a){let o=new Date;o.setTime(o.getTime()+1e3*a),l="; expires="+o.toUTCString()}document.cookie=`${e}=${encodeURIComponent(t||"")}${l}; path=${r}; domain=${i}; samesite=${n}`}static get(e=""){let t=document.cookie.split("; ");if(""===e)return t.reduce((e,t)=>{let[s,a]=t.split("=");return e[s]=decodeURIComponent(a),e},{});{let s=t.find(t=>t.startsWith(e+"="));return s?decodeURIComponent(s.split("=")[1]):null}}static remove(e,t){let{path:s="/",domain:a=""}=t;document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=${s}; domain=${a};`}}class ElementMakeMovable{constructor(e){this._element=e,this._events={}}on=(e,t)=>{this._events[e]=t};start=()=>{let e=e=>{var t,s,a,r,i=e;let n=n=>{"touchstart"===n.type?(t=n.touches[0].clientX-i.offsetLeft,s=n.touches[0].clientY-i.offsetTop):(t=n.clientX-i.offsetLeft,s=n.clientY-i.offsetTop),"function"==typeof this._events.start&&this._events.start({e:n,xy:{initial:{x:t,y:s},current:{x:a,y:r}},target:i}),"mousedown"===n.type&&n.preventDefault(),e.addEventListener("touchmove",l,{passive:!1}),e.addEventListener("touchend",o),e.addEventListener("mousemove",l),e.addEventListener("mouseup",o),e.addEventListener("mouseleave",o)},l=e=>{e.preventDefault(),"touchmove"===e.type?(a=e.touches[0].clientX-t,r=e.touches[0].clientY-s):(a=e.clientX-t,r=e.clientY-s),"function"==typeof this._events.move&&this._events.move({e,xy:{initial:{x:t,y:s},current:{x:a,y:r}},target:i})},o=n=>{"function"==typeof this._events.end&&this._events.end({e:n,xy:{initial:{x:t,y:s},current:{x:a,y:r}},target:i}),n.touches&&n.touches.length>0||(e.removeEventListener("touchmove",l,{passive:!1}),e.removeEventListener("touchend",o),e.removeEventListener("mousemove",l),e.removeEventListener("mouseup",o),e.removeEventListener("mouseleave",o))};i.addEventListener("touchstart",n,{passive:!1}),i.addEventListener("mousedown",n)};e(this._element)}}class EncodeTemplateString{static{this._input=document.createElement("input"),this._textarea=document.createElement("textarea")}static toInput=(e="")=>(this._input.setAttribute("value",e),this._input.outerHTML.slice(14,-2));static toTextarea=(e="")=>(this._textarea.innerHTML=e,this._textarea.innerHTML)}