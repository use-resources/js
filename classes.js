class RouteHashCallback{constructor(){this._params={},this._set=[]}__hash=t=>{let e=t.split("/").filter(t=>t);return e[0]="#",e};get=()=>{this._params={};let t=this.__hash(location.hash||"#/"),e=this._set.find(e=>{if(-1!=e.all)return(location.hash||"#/").startsWith(e.hash.arrayString.slice(0,e.all).join("/"));if(e.hash.arrayObject.length==t.length){let s=t.every((t,s)=>e.hash.arrayObject[s].status?(this._params[e.hash.arrayObject[s].name]=t,!0):t===e.hash.arrayObject[s].name);return s}return!1});return e&&"function"==typeof e.callback?e.callback(this._params):null};set=t=>{this._set=t.map(t=>{let e=this.__hash(`#/${t.hash}`),s=-1;return{hash:{arrayObject:e.map((t,e)=>(-1==s&&"*"==t&&(s=e),{status:t.startsWith(":"),name:t.startsWith(":")?t.slice(1):t})),arrayString:e},callback:t.callback,all:s}})};params=(t=null)=>"string"==typeof t?this._params[t]:JSON.parse(JSON.stringify(this._params))}class IntersectionObserverImage{static intersectionObserver=null;static images=[];static{this.intersectionObserver=new IntersectionObserver((t,e)=>{t.forEach(t=>{if(t.isIntersecting){let s=t.target;e.unobserve(s),this.__load(s)}})},{root:null,rootMargin:"0px",threshold:0})}static __load=t=>{let e=0,s=(t,e,s)=>(t.addEventListener(e,s),()=>t.removeEventListener(e,s)),a=s(t,"error",()=>{if(++e>3)return a();t.setAttribute("src",t.getAttribute("data-src"))}),r=s(t,"load",()=>{r(),a(),t.style.opacity=1});t.setAttribute("src",t.getAttribute("data-src"))};static load=(t,e=!0)=>{if("IMG"==t.tagName){if(t.style.opacity=0,e)return this.images.push(t),this.intersectionObserver.observe(t),()=>this.intersectionObserver.unobserve(t);this.__load(t)}return null};static clear=()=>{this.images.forEach(t=>this.intersectionObserver.unobserve(t))}}class RenderObjectElement{constructor(t={}){this.savedElement=Object.keys(t).reduce((e,s)=>(e[s]={element:t[s],elementText:document.createTextNode(""),parent:t[s].parentElement,status:!0},e),{})}set(t){Object.keys(t).forEach(e=>{let s=this.savedElement[e];s&&(s.status=t[e],s.status?s.element.parentElement||s.elementText.replaceWith(s.element):s.element.parentElement&&s.element.replaceWith(s.elementText))})}}class Cookie{static set(t,e,s={}){let{lifetime:a=0,path:r="/",domain:i="",samesite:n="Lax"}=s,l="";if(a){let h=new Date;h.setTime(h.getTime()+1e3*a),l="; expires="+h.toUTCString()}document.cookie=`${t}=${encodeURIComponent(e||"")}${l}; path=${r}; domain=${i}; samesite=${n}`}static get(t=""){let e=document.cookie.split("; ");if(""===t)return e.reduce((t,e)=>{let[s,a]=e.split("=");return t[s]=decodeURIComponent(a),t},{});{let s=e.find(e=>e.startsWith(t+"="));return s?decodeURIComponent(s.split("=")[1]):null}}static remove(t,e){let{path:s="/",domain:a=""}=e;document.cookie=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=${s}; domain=${a};`}}
