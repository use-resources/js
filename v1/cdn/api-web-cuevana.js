class ApiWebCuevana{static _fetchWebResolve(e,t){fetch(e).then(e=>e.text()).then(e=>{try{let l=document.createElement("html");l.innerHTML=e,Array.from(l.querySelectorAll("img")).forEach(e=>{e.setAttribute("srcset",""),e.setAttribute("src","")});let r=l.querySelector("#__NEXT_DATA__"),c=JSON.parse(r?.textContent);t(c)}catch(s){t(null)}}).catch(()=>t(null))}static pelicula(e=1,t=""){return new Promise(l=>{e=Math.max(1,e);let r=t?`https://cuevana.biz/genero/${t}/page/${e}`:`https://cuevana.biz/peliculas/page/${e}`;this._fetchWebResolve(r,l)})}static peliculaId(e){return new Promise(t=>{let l=`https://cuevana.biz/pelicula/${e}/${e}`;this._fetchWebResolve(l,t)})}static serie(e=1){return new Promise(t=>{e=Math.max(1,e);let l=`https://cuevana.biz/series/page/${e}`;this._fetchWebResolve(l,t)})}static serieId(e,t=null,l=null){return new Promise(r=>{let c=`https://cuevana.biz/serie/${e}/${e}`;c+=t&&l?`/temporada/${t}/episodio/${l}`:"",this._fetchWebResolve(c,r)})}static search(e=""){return new Promise(t=>{let l=`https://cuevana.biz/search?q=${encodeURIComponent(e)}`;this._fetchWebResolve(l,t)})}static serverUrl(e){return new Promise(t=>{try{new URL(e),fetch(e).then(e=>e.text()).then(e=>{try{let l=document.createElement("html");l.innerHTML=e,Array.from(l.querySelectorAll("img")).forEach(e=>{e.setAttribute("srcset",""),e.setAttribute("src","")}),Array.from(l.querySelectorAll("script")).forEach(e=>{if(e.textContent.includes("var url =")){let l=[e.textContent.split(";").slice(0,3).join(";"),"return url",].join(";"),r=Function(l);t(r())}}),t(null)}catch(r){t(null)}}).catch(()=>t(null))}catch(l){t(null)}})}}