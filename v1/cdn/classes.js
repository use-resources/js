class RouteHashCallback{constructor(){this._params={},this._set=[]}__hash=t=>{let e=t.split("/").filter(t=>t);return e[0]="#",e};get=()=>{this._params={};let t=this.__hash(location.hash||"#/"),e=this._set.find(e=>{if(-1!=e.all)return(location.hash||"#/").startsWith(e.hash.arrayString.slice(0,e.all).join("/"));if(e.hash.arrayObject.length==t.length){let s=t.every((t,s)=>e.hash.arrayObject[s].status?(this._params[e.hash.arrayObject[s].name]=t,!0):t===e.hash.arrayObject[s].name);return s}return!1});return e&&"function"==typeof e.callback?e.callback(this._params):null};set=t=>{this._set=t.map(t=>{let e=this.__hash(`#/${t.hash}`),s=-1;return{hash:{arrayObject:e.map((t,e)=>(-1==s&&"*"==t&&(s=e),{status:t.startsWith(":"),name:t.startsWith(":")?t.slice(1):t})),arrayString:e},callback:t.callback,all:s}})};params=(t=null)=>"string"==typeof t?this._params[t]:JSON.parse(JSON.stringify(this._params))}class IntersectionObserverImage{static intersectionObserver=null;static images=[];static{this.intersectionObserver=new IntersectionObserver((t,e)=>{t.forEach(t=>{if(t.isIntersecting){let s=t.target;e.unobserve(s),this.__load(s)}})},{root:null,rootMargin:"0px",threshold:0})}static __load=t=>{let e=0,s=(t,e,s)=>(t.addEventListener(e,s),()=>t.removeEventListener(e,s)),r=s(t,"error",()=>{if(++e>3)return r();t.setAttribute("src",t.getAttribute("data-src-observer"))}),a=s(t,"load",()=>{a(),r(),t.style.opacity=1});t.setAttribute("src",t.getAttribute("data-src-observer"))};static load=(t,e=!0)=>{if("IMG"==t.tagName){if(t.style.opacity=0,e)return this.images.push(t),this.intersectionObserver.observe(t),()=>this.intersectionObserver.unobserve(t);this.__load(t)}return null};static clear=()=>{this.images.forEach(t=>this.intersectionObserver.unobserve(t))}}class RenderObjectElement{constructor(t={},e="replace"){this._mode=e,this.savedElement=Object.keys(t).reduce((e,s)=>(e[s]={element:t[s],elementText:document.createTextNode(""),parent:t[s].parentElement,status:!0},e),{})}set(t,e=null){"replace"==(e=e||this._mode)&&Object.keys(t).forEach(e=>{let s=this.savedElement[e];s&&(s.status=t[e],s.status?s.element.parentElement||s.elementText.replaceWith(s.element):s.element.parentElement&&s.element.replaceWith(s.elementText))}),"display"==e&&Object.entries(t).forEach(t=>{this.savedElement[t[0]]&&(this.savedElement[t[0]].element.style.display=t[1]?"":"none")})}}class Cookie{static set(t,e,s={}){let{lifetime:r=0,path:a="/",domain:i="",samesite:n="Lax"}=s,l="";if(r){let c=new Date;c.setTime(c.getTime()+1e3*r),l="; expires="+c.toUTCString()}document.cookie=`${t}=${encodeURIComponent(e||"")}${l}; path=${a}; domain=${i}; samesite=${n}`}static get(t=""){let e=document.cookie.split("; ");if(""===t)return e.reduce((t,e)=>{let[s,r]=e.split("=");return t[s]=decodeURIComponent(r),t},{});{let s=e.find(e=>e.startsWith(t+"="));return s?decodeURIComponent(s.split("=")[1]):null}}static remove(t,e){let{path:s="/",domain:r=""}=e;document.cookie=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=${s}; domain=${r};`}}class EncodeTemplateString{static{this._input=document.createElement("input"),this._textarea=document.createElement("textarea")}static toInput=(t="")=>(this._input.setAttribute("value",t),this._input.outerHTML.slice(14,-2));static toTextarea=(t="")=>(this._textarea.innerHTML=t,this._textarea.innerHTML)}class TrimString{static left=(t="",e="")=>{if(""!=t&&""!=e)for(;t.startsWith(e);)t=t.slice(1);return t};static right=(t="",e="")=>{if(""!=t&&""!=e)for(;t.endsWith(e);)t=t.slice(0,-1);return t};static both=(t="",e="")=>{if(""!=t&&""!=e){for(;t.startsWith(e);)t=t.slice(1);for(;t.endsWith(e);)t=t.slice(0,-1)}return t}}class StorageSave{static single=(t,e,s,r=null)=>{var a;return t.getItem(e)||t.setItem(e,r instanceof Object?JSON.stringify(r):r),t.setItem(e,(a=s(t.getItem(e)))instanceof Object?JSON.stringify(a):a),t.getItem(e)};static group=(t,e,s=!0)=>Object.entries(e).reduce((e,r)=>{let a=s||!t.getItem(r[0]);return a&&t.setItem(r[0],r[1]instanceof Object?JSON.stringify(r[1]):r[1]),e[r[0]]=a,e},{})}